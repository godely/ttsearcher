var elasticsearch = require('elasticsearch');

var client = new elasticsearch.Client({
  host: '127.0.0.1:9200',
  log: 'trace'
});

var relevanceTable = [
	[1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,0,1,1,0,0,0,0,0,0,0,1,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,0]
];

var retrieved = [
	{
		original: 209,
		stoplist: 50,
		stemming: 211,
		both: 77
	},
	{
		original: 215,
		stoplist: 68,
		stemming: 215,
		both: 79
	},
	{
		original: 220,
		stoplist: 70,
		stemming: 220,
		both: 121
	},

];

var queries = [
	{
		original: [12, 196, 114, 35, 37, 91, 150, 101, 94, 121, 165, 212, 24, 25, 50, 126, 131, 132, 157, 142, 108, 160, 46, 86, 71, 218, 26, 40, 151, 167, 55, 188, 190, 93, 23, 38, 82, 115, 164, 141, 206, 123, 163, 156, 43, 62, 76, 64, 171, 49, 213, 83, 4, 0, 192, 158, 148, 57, 99, 63, 159, 169, 92, 210, 194, 170, 184, 70, 96, 214, 11, 139, 219, 87, 118, 177, 195, 113, 149, 56, 60, 90, 208, 52, 10, 122, 176, 66, 75, 138, 152, 68, 146, 100, 89, 168, 9, 133, 174, 128, 61, 202, 18, 147, 116, 72, 166, 53, 193, 33, 14, 211, 2, 137, 97, 155, 77, 203, 143, 172, 187, 107, 109, 145, 189, 69, 205, 45, 215, 21, 127, 183, 78, 186, 199, 36, 216, 88, 47, 48, 19, 102, 198, 3, 129, 134, 13, 175, 42, 39, 111, 85, 178, 180, 1, 29, 201, 16, 104, 135, 80, 204, 79, 58, 95, 106, 31, 117, 27, 67, 81, 124, 136, 105, 59, 209, 153, 161, 120, 197, 20, 30, 207, 140, 173, 185, 110, 181, 200, 54, 112, 144, 51, 8, 125, 22, 103, 98, 44, 32, 5, 6, 17, 34, 28, 119, 15, 130, 191],
		stoplist: [12, 196, 114, 37, 91, 150, 26, 123, 93, 156, 163, 218, 165, 76, 62, 43, 25, 213, 171, 64, 188, 23, 83, 99, 63, 148, 4, 49, 169, 50, 57, 159, 170, 139, 158, 192, 70, 87, 96, 118, 0, 194, 210, 214, 92, 184, 46, 177, 11, 219],
		stemming: [12, 196, 114, 60, 99, 35, 77, 94, 121, 165, 212, 37, 91, 150, 101, 108, 160, 46, 86, 80, 71, 218, 24, 25, 50, 126, 131, 132, 142, 157, 40, 151, 167, 55, 188, 190, 26, 14, 23, 38, 82, 115, 141, 164, 206, 76, 123, 159, 83, 93, 194, 148, 163, 57, 143, 139, 137, 64, 62, 171, 0, 49, 69, 68, 4, 43, 169, 158, 192, 92, 175, 210, 63, 120, 145, 170, 70, 184, 155, 200, 156, 176, 87, 96, 118, 88, 106, 140, 146, 213, 177, 214, 11, 219, 16, 195, 113, 10, 56, 208, 52, 149, 75, 122, 9, 116, 72, 90, 127, 174, 97, 202, 168, 204, 128, 61, 66, 48, 147, 89, 3, 133, 138, 189, 152, 100, 172, 36, 203, 107, 109, 135, 166, 193, 134, 59, 33, 205, 2, 18, 22, 39, 198, 215, 53, 19, 216, 211, 45, 78, 129, 187, 209, 95, 21, 183, 20, 27, 102, 186, 199, 8, 104, 125, 111, 13, 47, 42, 136, 41, 110, 54, 31, 117, 85, 178, 180, 1, 29, 201, 207, 105, 79, 103, 185, 58, 67, 32, 197, 161, 81, 124, 153, 17, 30, 173, 181, 44, 112, 144, 51, 98, 28, 5, 6, 119, 34, 65, 15, 130, 191],
		both: [12, 196, 114, 60, 99, 37, 91, 150, 26, 165, 76, 123, 159, 148, 83, 93, 194, 23, 139, 163, 57, 143, 64, 62, 171, 137, 188, 169, 63, 120, 157, 68, 4, 49, 69, 170, 71, 218, 145, 86, 94, 121, 175, 200, 70, 87, 96, 118, 0, 156, 142, 43, 158, 192, 140, 210, 92, 214, 184, 155, 46, 177, 16, 106, 131, 176, 88, 11, 219, 24, 25, 146, 213, 108, 50, 126, 38]
	},
	{
		original: [74, 122, 43, 24, 176, 135, 59, 8, 61, 155, 179, 22, 107, 162, 46, 98, 30, 16, 17, 50, 134, 160, 0, 72, 170, 87, 97, 149, 142, 168, 57, 69, 164, 171, 49, 186, 188, 195, 200, 9, 2, 94, 175, 173, 212, 144, 116, 64, 78, 19, 89, 210, 90, 12, 36, 126, 156, 190, 145, 55, 141, 128, 71, 14, 153, 217, 10, 47, 88, 132, 3, 86, 106, 62, 202, 201, 80, 41, 219, 185, 111, 133, 172, 114, 193, 218, 131, 15, 65, 207, 189, 183, 191, 139, 213, 34, 51, 38, 108, 60, 157, 56, 181, 178, 52, 165, 75, 125, 63, 85, 136, 5, 214, 137, 7, 199, 96, 118, 123, 48, 82, 84, 117, 127, 26, 35, 32, 159, 177, 23, 11, 20, 91, 158, 101, 143, 167, 154, 25, 174, 119, 138, 187, 99, 103, 209, 66, 70, 151, 79, 37, 27, 121, 92, 53, 31, 4, 28, 215, 130, 205, 54, 112, 115, 146, 203, 83, 102, 208, 198, 169, 109, 104, 194, 120, 206, 184, 33, 197, 40, 81, 29, 196, 93, 95, 105, 216, 148, 150, 21, 129, 113, 13, 44, 152, 39, 42, 6, 124, 163, 192, 18, 140, 182, 204, 45, 68, 161, 100, 1, 76, 110, 58, 166, 77],
		stoplist: [74, 176, 122, 43, 24, 107, 135, 8, 162, 46, 98, 61, 144, 50, 200, 116, 19, 64, 90, 78, 89, 210, 12, 145, 36, 55, 156, 71, 126, 190, 128, 141, 153, 47, 217, 14, 106, 10, 195, 16, 3, 132, 86, 88, 65, 133, 111, 172, 202, 201, 218, 80, 193, 9, 62, 139, 185, 207, 131, 183, 189, 15, 191, 219, 114, 34, 41, 213],
		stemming: [122, 183, 74, 207, 135, 43, 59, 61, 8, 141, 155, 179, 19, 22, 24, 176, 17, 30, 16, 107, 162, 46, 98, 116, 50, 134, 160, 0, 72, 170, 78, 87, 97, 142, 149, 168, 57, 69, 164, 171, 49, 186, 188, 195, 2, 9, 94, 173, 175, 212, 200, 12, 144, 106, 156, 64, 36, 90, 89, 41, 145, 80, 210, 15, 185, 219, 55, 190, 34, 213, 14, 62, 126, 201, 136, 153, 128, 71, 217, 199, 133, 172, 209, 10, 88, 193, 114, 202, 131, 111, 86, 47, 3, 132, 189, 139, 191, 21, 206, 104, 81, 28, 65, 218, 51, 38, 108, 157, 60, 56, 178, 52, 181, 165, 85, 63, 75, 125, 5, 214, 7, 123, 137, 48, 84, 82, 96, 118, 117, 127, 26, 32, 23, 35, 11, 20, 159, 177, 101, 143, 154, 167, 91, 158, 25, 187, 174, 138, 119, 151, 99, 79, 103, 66, 70, 37, 53, 27, 121, 4, 31, 92, 130, 205, 115, 54, 112, 215, 146, 203, 83, 102, 208, 198, 120, 169, 109, 194, 184, 33, 40, 197, 29, 93, 95, 196, 148, 150, 105, 216, 129, 113, 13, 44, 152, 6, 42, 39, 124, 163, 192, 18, 140, 182, 204, 45, 68, 161, 100, 1, 76, 58, 110, 166, 77],
		both: [122, 183, 176, 107, 135, 74, 8, 43, 141, 24, 162, 46, 98, 207, 61, 19, 116, 78, 50, 144, 200, 12, 106, 156, 64, 90, 145, 36, 89, 55, 80, 15, 210, 34, 185, 41, 213, 219, 190, 195, 71, 175, 9, 128, 14, 172, 201, 133, 136, 193, 126, 153, 209, 47, 217, 62, 139, 199, 131, 111, 189, 16, 10, 22, 65, 21, 202, 86, 191, 88, 206, 114, 3, 81, 132, 155, 104, 218, 28]
	},
	{
		original: [118, 184, 32, 156, 207, 31, 108, 141, 206, 55, 30, 40, 157, 103, 128, 46, 51, 43, 217, 24, 25, 5, 52, 150, 33, 42, 65, 153, 14, 68, 87, 161, 198, 47, 210, 123, 180, 7, 187, 119, 135, 216, 154, 202, 105, 208, 200, 167, 58, 151, 112, 63, 138, 107, 145, 170, 204, 12, 2, 64, 78, 83, 99, 212, 215, 3, 70, 134, 109, 1, 149, 140, 125, 26, 85, 136, 178, 201, 190, 20, 11, 76, 176, 94, 133, 62, 29, 93, 69, 89, 106, 110, 35, 97, 144, 163, 197, 59, 160, 168, 79, 130, 137, 183, 21, 117, 88, 92, 177, 27, 81, 129, 82, 13, 44, 155, 53, 56, 152, 19, 23, 95, 115, 164, 139, 182, 39, 162, 61, 60, 86, 71, 72, 209, 166, 57, 34, 50, 91, 126, 132, 146, 191, 213, 203, 214, 4, 100, 17, 121, 185, 158, 15, 74, 49, 142, 171, 172, 186, 6, 73, 114, 113, 188, 38, 45, 169, 111, 22, 173, 102, 131, 48, 84, 147, 54, 122, 16, 143, 104, 192, 148, 159, 96, 36, 75, 8, 124, 37, 194, 219, 189, 120, 9, 101, 195, 199, 67, 174, 116, 18, 179, 193, 90, 175, 28, 218, 41, 66, 77, 211, 10, 0, 181, 205, 196, 127, 165, 98, 80],
		stoplist: [51, 118, 184, 207, 206, 31, 141, 108, 32, 156, 42, 33, 55, 153, 14, 210, 47, 52, 167, 93, 3, 105, 1, 35, 161, 109, 134, 204, 81, 190, 70, 94, 121, 137, 140, 62, 26, 119, 176, 149, 178, 29, 27, 2, 133, 53, 24, 129, 135, 125, 160, 59, 130, 152, 21, 117, 183, 39, 88, 13, 198, 82, 56, 79, 110, 166, 197, 44, 168, 57],
		stemming: [118, 184, 32, 156, 52, 207, 31, 141, 206, 216, 23, 105, 55, 30, 40, 108, 157, 103, 128, 46, 43, 217, 24, 25, 5, 150, 211, 96, 172, 51, 47, 6, 45, 65, 70, 101, 81, 148, 107, 68, 87, 161, 198, 153, 210, 134, 27, 168, 33, 14, 117, 110, 123, 180, 119, 135, 7, 187, 4, 49, 18, 29, 208, 200, 42, 159, 0, 154, 202, 112, 63, 138, 58, 151, 2, 12, 64, 78, 83, 99, 212, 215, 145, 170, 214, 20, 11, 76, 15, 75, 85, 136, 178, 201, 97, 144, 163, 176, 197, 204, 69, 89, 106, 34, 94, 109, 82, 133, 125, 62, 79, 130, 17, 142, 140, 26, 192, 59, 92, 177, 21, 155, 183, 48, 60, 167, 149, 88, 35, 116, 38, 3, 160, 44, 129, 13, 188, 115, 137, 203, 194, 54, 114, 19, 53, 95, 164, 139, 182, 1, 169, 190, 162, 61, 86, 71, 72, 209, 50, 91, 126, 132, 146, 191, 213, 166, 56, 93, 181, 39, 143, 219, 57, 152, 165, 185, 100, 158, 73, 74, 131, 84, 147, 22, 173, 102, 171, 16, 186, 122, 113, 124, 37, 111, 104, 120, 36, 8, 9, 67, 189, 179, 174, 90, 193, 41, 175, 195, 199, 66, 77, 28, 218, 10, 121, 205, 196, 127, 98, 80],
		both: [118, 184, 206, 31, 207, 211, 141, 32, 156, 172, 51, 52, 81, 45, 96, 6, 23, 105, 159, 216, 108, 47, 101, 148, 27, 70, 33, 107, 153, 134, 18, 198, 0, 210, 117, 29, 42, 168, 49, 110, 4, 14, 55, 170, 75, 94, 62, 116, 35, 161, 119, 2, 109, 204, 34, 214, 15, 82, 176, 137, 26, 133, 48, 140, 142, 60, 192, 129, 167, 188, 135, 125, 160, 59, 53, 88, 3, 21, 183, 194, 39, 13, 181, 40, 93, 169, 17, 130, 166, 197, 1, 201, 149, 121, 165, 38, 44, 190, 114, 56, 79, 24, 146, 115, 99, 54, 112, 215, 65, 30, 7, 203, 145, 83, 143, 178, 187, 11, 152, 57, 219]
	}
];

function calculateRelevants(row){
	var count = 0;
	for(var i=0; i < row.length; i++){
		if(row[i]) count++;
	}
	return count;
}

function calculatePrecisions(query){
	var totalRelevants = calculateRelevants(relevanceTable[query]);

	var precision = {
		original: calculateAnalyzerRelevants(queries[query].original, query),
		stoplist: calculateAnalyzerRelevants(queries[query].stoplist, query),
		stemming: calculateAnalyzerRelevants(queries[query].stemming, query),
		both: calculateAnalyzerRelevants(queries[query].both, query)
	};

	console.log(precision);

}

function calculateAnalyzerRelevants(analyzerResult, query){
	var relevants = 0;
	for(var i=0; i < analyzerResult.length; i++){
		if(relevanceTable[query][analyzerResult[i]]) relevants++;
	}
	return relevants;
}


calculatePrecisions(0);
calculatePrecisions(1);
calculatePrecisions(2);


//console.log(calculateRelevants(relevanceTable[2]));